const t="routes:",e={};class n extends HTMLElement{t;constructor(){super(),this.innerHTML='<slot name="content"></slot>',this.t=this.i.bind(this)}connectedCallback(){window.addEventListener("popstate",this.t),window.dispatchEvent(new Event("popstate"))}disconnectedCallback(){window.removeEventListener("popstate",this.t)}i(){this.o(),window.dispatchEvent(new Event("popstate"))}o(){const t=window.location.pathname||"/";let n,s={};for(const[i,o]of Object.entries(e)){const e=new RegExp(i.replace(/:[^\s/]+/g,"([^/]+)"));if(e.test(t)){n=o;const r=t.match(e);if(r){(i.match(/:[^\s/]+/g)||[]).forEach(((t,e)=>{s[t.substring(1)]=r[e+1]}))}break}}if(n){const t=document.createElement(n);t.setAttribute("state",JSON.stringify(s)),t.setAttribute("slot","content"),this.appendChild(t)}else{const t=document.createElement("h1");t.setAttribute("slot","content"),t.textContent="404 Not Found",this.appendChild(t)}}}const s={debug:!1,locale:"en-US",l:!0,u:!0,h:!0,p:!1,m:!0,N:"app-main",S:"view-router",v:""};function i(){return s}const o=i();function r(t){throw new Error(`${t} requires at least one option`)}function l(t){throw new Error(`${t} requires a number as option`)}function u(t){throw new Error(`${t} requires a number value`)}function c(t){throw new Error(`${t} requires a date value`)}const a=i(),h={C:t=>{const e=t?.[0]??r("eq"),n=Number(e);return isNaN(n)&&l("eq"),t=>("number"!=typeof t&&u("eq"),t===n)},I:t=>{const e=t?.[0]??r("ne"),n=Number(e);return isNaN(n)&&l("ne"),t=>("number"!=typeof t&&u("ne"),t!==n)},T:t=>t=>("boolean"!=typeof t&&function(t){throw new Error(`${t} requires a boolean value`)}("not"),!t),L:t=>{const e=t?.[0]??r("lt"),n=Number(e);return isNaN(n)&&l("lt"),t=>("number"!=typeof t&&u("lt"),t<n)},B:t=>{const e=t?.[0]??r("le"),n=Number(e);return isNaN(n)&&l("le"),t=>("number"!=typeof t&&u("le"),t<=n)},$:t=>{const e=t?.[0]??r("gt"),n=Number(e);return isNaN(n)&&l("gt"),t=>("number"!=typeof t&&u("gt"),t>n)},M:t=>{const e=t?.[0]??r("ge"),n=Number(e);return isNaN(n)&&l("ge"),t=>("number"!=typeof t&&u("ge"),t>=n)},R:t=>{const e=t?.[0]??r("inc"),n=Number(e);return isNaN(n)&&l("inc"),t=>("number"!=typeof t&&u("inc"),t+n)},P:t=>{const e=t?.[0]??r("dec"),n=Number(e);return isNaN(n)&&l("dec"),t=>("number"!=typeof t&&u("dec"),t-n)},mul:t=>{const e=t?.[0]??r("mul"),n=Number(e);return isNaN(n)&&l("mul"),t=>("number"!=typeof t&&u("mul"),t*n)},div:t=>{const e=t?.[0]??r("div"),n=Number(e);return isNaN(n)&&l("div"),t=>("number"!=typeof t&&u("div"),t/n)},k:t=>{const e=Number(t?.[0]??0);return isNaN(e)&&l("div"),t=>("number"!=typeof t&&u("div"),t.toFixed(e))},locale:t=>{const e=t?.[0]??a.locale;return t=>("number"!=typeof t&&u("locale"),t.toLocaleString(e))},F:t=>t=>t.toString().toUpperCase(),H:t=>t=>t.toString().toLowerCase(),cap:t=>t=>{const e=t.toString();return 0===e.length?e:1===e.length?e.toUpperCase():e.charAt(0).toUpperCase()+e.slice(1)},trim:t=>t=>t.toString().trim(),slice:t=>{const e=t?.[0]??r("slice"),n=Number(e);return isNaN(n)&&l("slice"),t=>t.toString().slice(n)},substr:t=>{const e=t?.[0]??r("substr"),n=Number(e);isNaN(n)&&l("substr");const s=t?.[1]??r("substr"),i=Number(s);return isNaN(i)&&l("substr"),t=>t.toString().substr(n,i)},pad:t=>{const e=t?.[0]??r("pad"),n=Number(e);isNaN(n)&&l("pad");const s=t?.[1]??"0";return t=>t.toString().padStart(n,s)},O:t=>{const e=t?.[0]??r("rep"),n=Number(e);return isNaN(n)&&l("rep"),t=>t.toString().repeat(n)},rev:t=>t=>t.toString().split("").reverse().join(""),V:t=>t=>parseInt(t,10),float:t=>t=>parseFloat(t),round:t=>{const e=t?.[0]??0,n=Math.pow(10,Number(e));return isNaN(n)&&l("round"),t=>("number"!=typeof t&&u("round"),Math.round(t*n)/n)},floor:t=>{const e=t?.[0]??0,n=Math.pow(10,Number(e));return isNaN(n)&&l("floor"),t=>("number"!=typeof t&&u("floor"),Math.floor(t*n)/n)},ceil:t=>{const e=t?.[0]??0,n=Math.pow(10,Number(e));return isNaN(n)&&l("ceil"),t=>("number"!=typeof t&&u("ceil"),Math.ceil(t*n)/n)},percent:t=>{const e=Number(t?.[0]??0);return isNaN(e)&&l("percent"),t=>("number"!=typeof t&&u("percent"),t.toFixed(e)+"%")},A:t=>(t?.[0]??a.locale,t=>(t instanceof Date||c("date"),t.toLocaleDateString(a.locale))),time:t=>(t?.[0]??a.locale,t=>(t instanceof Date||c("time"),t.toLocaleTimeString(a.locale))),j:t=>(t?.[0]??a.locale,t=>(t instanceof Date||c("datetime"),t.toLocaleString(a.locale))),G:t=>{const e=t?.[0]??"-";return t=>{t instanceof Date||c("ymd");const n=t.getFullYear().toString(),s=(t.getMonth()+1).toString().padStart(2,"0"),i=t.getDate().toString().padStart(2,"0");return`${n}${e}${s}${e}${i}`}},q:t=>t=>!1===t||null==t||0===t||""===t||Number.isNaN(t),D:t=>t=>!1!==t&&null!=t&&0!==t&&""!==t&&!Number.isNaN(t),W:t=>{const e=t?.[0]??r("defaults");return t=>!1===t||null==t||0===t||""===t||Number.isNaN(t)?e:t},U:t=>t=>Boolean(t),number:t=>t=>Number(t),string:t=>t=>String(t),null:t=>t=>""===t?null:t},d=h,f=h;let p=0;function m(){return++p}function g(t){throw new Error(t)}const b={};const w={};function y(t,e){const n=new CSSStyleSheet;n.replaceSync(e),function(t,e){w[t]=e}(t,n)}function x(t,e){const n=t[e.name];return n||g(`outputBuiltinFiltersFn: filter not found: ${name}`),n(e.options)}const N=new Map;function S(t,e){let n=N.get(e);if(void 0===n){n=[];for(let s=0;s<e.length;s++)n.push(x(t,e[s]));N.set(e,n)}return n}class v{#t;#e;#n;#s;#i;#o=new Set;get node(){return this.#e}get name(){return this.#n}get binding(){return this.#t}get event(){return this.#i}get filters(){return this.#s}get _(){return this.#o}constructor(t,e,n,s,i){this.#t=t,this.#e=e,this.#n=n,this.#s=s,this.#i=i}init(){}update(){this.J(this.binding.X.K)}J(t){g("BindingNode: assignValue not implemented")}Y(t,e){g("BindingNode: updateElements not implemented")}get Z(){return this.node instanceof HTMLSelectElement}}class C extends v{#r;get tt(){return this.#r}constructor(t,e,n,s,i){super(t,e,n,s,i);const[,o]=this.name.split(".");this.#r=o}J(t){(null==t||Number.isNaN(t))&&(t="");this.node.setAttribute(this.tt,t.toString())}}class I extends v{J(t){Array.isArray(t)||g("BindingNodeCheckbox.update: value is not array");const e=this.node;e.checked=t.map((t=>t.toString())).includes(e.value)}}class E extends v{J(t){Array.isArray(t)||g("BindingNodeClassList.update: value is not array");this.node.className=t.join(" ")}}class T extends v{#r;get tt(){return this.#r}constructor(t,e,n,s,i){super(t,e,n,s,i);const[,o]=this.name.split(".");this.#r=o}J(t){"boolean"!=typeof t&&g("BindingNodeClassName.update: value is not boolean");const e=this.node;t?e.classList.add(this.tt):e.classList.remove(this.tt)}}class L extends v{#r;constructor(t,e,n,s,i){super(t,e,n,s,i),this.#r=this.name.slice(2);e.addEventListener(this.tt,(t=>this.et(t)))}get tt(){return this.#r}update(){}et(t){const e=this.binding.X,n=this.binding.nt,s=n.st,i=n.it,o=this.binding.rt.ot,r=o?.lt().map((t=>t.ut.index))??[];"preventDefault"===this.event&&t.preventDefault(),this.binding.nt.it.ct((async()=>{const l=e.value,u=typeof l;i.ct((async()=>{o?await n.ht(o,(async()=>{"function"===u&&await Reflect.apply(l,s,[t,...r])})):"function"===u&&await Reflect.apply(l,s,[t,...r])}))}))}}const B=(t,e,n)=>(s,i,o)=>{const r=S(o,e);return new L(s,i,t,r,n)},$="data-bind",M="@@:",R="@@|";class P extends v{#l;get id(){return this.#l}constructor(t,e,n,s,i){super(t,e,n,s,i);const o=this.node.textContent?.slice(3)??g("BindingNodeBlock.id: invalid node");this.#l=Number(o)}}class k extends P{#u;#c;#a=new Set;#o;get _(){return this.#o}constructor(t,e,n,s,i){super(t,e,n,s,i),this.#u=Gt(this.binding,this.id,this.binding.nt,"",null),this.#c=this.#o=new Set([this.#u])}J(t){"boolean"!=typeof t&&g("BindingNodeIf.update: value is not boolean");const e=this.node.parentNode;null==e&&g("BindingNodeIf.update: parentNode is null"),t?(this.#u.o(),this.#u.dt(e,this.node.nextSibling),this.#o=this.#c):(this.#u.unmount(),this.#o=this.#a)}}class F extends P{#h=new Set;#d=new WeakMap;#f=[];#p=0;get _(){return this.#h}init(){}ft(t){let e;return this.#p>=0?(e=this.#f[this.#p],this.#p--,e.gt(t)):e=Gt(this.binding,this.id,this.binding.nt,this.binding.X.pattern+".*",t),this.#d.set(t,e),e}bt(t){t.unmount(),t.yt?.wt()}get xt(){return this.#p}set xt(t){this.#p=t}get Nt(){return this.#f.length}set Nt(t){t<0&&g("BindingNodeFor.setPoolLength: length is negative"),this.#f.length=t}J(t){Array.isArray(t)||g("BindingNodeFor.assignValue: value is not array");const e=this.binding.nt.St(this.binding.X.info,this.binding.X.ut);null===e&&g("BindingNodeFor.assignValue: listIndexes is not found"),this.xt=this.Nt-1;const n=new Set;let s=null;const i=this.node.parentNode;null==i&&g("BindingNodeFor.update: parentNode is null");for(const t of e){const e=s?.vt(i)??this.node;let o=this.#d.get(t);void 0===o?(o=this.ft(t),o.o(),o.Ct(i,e)):e.nextSibling!==o.It&&o.Ct(i,e),n.add(o),s=o}this.Nt=this.xt+1;const o=this.#h.difference(n);for(const t of o)this.bt(t);this.#f.push(...o),this.#h=n}Y(t,e){if("object"!=typeof e[0])return;const n=this.binding.nt,s=n.Et(this.binding.X.info,this.binding.X.ut)??g("BindingNodeFor.updateElements: oldValues is not found"),i=this.node.parentNode??g("BindingNodeFor.update: parentNode is null"),o=Array.from(this.#h),r=[];for(let e=0;e<t.length;e++){const n=o[t[e].index];n.unmount(),r.push(n)}for(let n=0;n<t.length;n++){const l=t[n],u=l.index,c=o[u-1]??null,a=c?.Tt??this.node,h=s[u],d=e.indexOf(h),f=r[d];if(void 0===f){const t=r[u];t.o(),t.Ct(i,a)}else f.gt(l),f.Ct(i,a),this.#d.set(l,f),o[u]=f;d>=0&&(e[d]=-1)}this.#h=new Set(o),n.Lt(this.binding.X.info,this.binding.X.ut,this.binding.X.value.slice(0))}}const H=(t,e,n)=>(s,i,o)=>{const r=S(o,e);return new F(s,i,t,r,n)},O="textContent",V={Bt:"checked",$t:"checked",button:"onclick"},A={},j={HTMLElement:t=>t instanceof HTMLSelectElement||t instanceof HTMLTextAreaElement||t instanceof HTMLOptionElement?"value":t instanceof HTMLButtonElement||t instanceof HTMLAnchorElement?"onclick":t instanceof HTMLFormElement?"onsubmit":t instanceof HTMLInputElement?V[t.type]??"value":O,SVGElement:void 0,Text:t=>O,Mt:void 0};const G="state",q=Symbol.for(`${G}.GetByRef`),D=Symbol.for(`${G}.SetByRef`),W=Symbol.for(`${G}.SetCacheable`),U=Symbol.for(`${G}.ConnectedCallback`),_=Symbol.for(`${G}.DisconnectedCallback`),z=Symbol.for(`${G}.Resolve`),J=Symbol.for(`${G}.GetAll`);const Q={value:"input",checked:"change",selected:"change"};class K extends v{get value(){return this.node[this.name]}get K(){let t=this.value;for(let e=0;e<this.filters.length;e++)t=this.filters[e](t);return t}constructor(t,e,n,s,i){super(t,e,n,s,i);if(!(this.node instanceof HTMLElement))return;if(!((o=this.node)instanceof HTMLInputElement||o instanceof HTMLTextAreaElement||o instanceof HTMLSelectElement))return;var o;const r=function(t,e){const n=t.constructor.name+"\t"+(t.type??"");return A[n]??(A[n]=j[e]?.(t))}(this.node,"HTMLElement");if(r!==this.name)return;const l=this.event??Q[this.name]??"readonly";"readonly"!==i&&"ro"!==i&&this.node.addEventListener(l,(()=>{const t=this.binding.rt.ot,e=this.binding.nt,n=e.st,s=this.binding.X,i=this.K;e.it.ct((()=>{t?e.ht(t,(async()=>{n[D](s.info,s.ut,i)})):n[D](s.info,s.ut,i)}))}))}init(){}J(t){(null==t||Number.isNaN(t))&&(t=""),this.node[this.name]=t}}const X=(t,e,n)=>(s,i,o)=>{const r=S(o,e);return new K(s,i,t,r,n)};class Y extends v{J(t){(null==t||Number.isNaN(t))&&(t="");const e=this.node;e.checked=t.toString()===e.value.toString()}}class Z extends v{#r;get tt(){return this.#r}constructor(t,e,n,s,i){super(t,e,n,s,i);const[,o]=this.name.split(".");this.#r=o}J(t){(null==t||Number.isNaN(t))&&(t="");this.node.style.setProperty(this.tt,t.toString())}}const tt={0:{Rt:(t,e,n)=>(s,i,o)=>{const r=S(o,e);return new E(s,i,t,r,n)},$t:(t,e,n)=>(s,i,o)=>{const r=S(o,e);return new I(s,i,t,r,n)},Bt:(t,e,n)=>(s,i,o)=>{const r=S(o,e);return new Y(s,i,t,r,n)}},1:{Pt:(t,e,n)=>(s,i,o)=>{const r=S(o,e);return new k(s,i,t,r,n)}}},et={Rt:(t,e,n)=>(s,i,o)=>{const r=S(o,e);return new T(s,i,t,r,n)},kt:(t,e,n)=>(s,i,o)=>{const r=S(o,e);return new C(s,i,t,r,n)},style:(t,e,n)=>(s,i,o)=>{const r=S(o,e);return new Z(s,i,t,r,n)}};const nt={};function st(t,e,n,s){const i=t instanceof Comment,o=t instanceof Element,r=i+"\t"+o+"\t"+e,l=nt[r]??(nt[r]=function(t,e,n){const s=tt[t?1:0][n];if(void 0!==s)return s;if(t&&"for"===n)return H;t&&g(`getBindingNodeCreator: unknown node property ${n}`);const i=n.split("."),o=et[i[0]];return void 0!==o?o:e&&n.startsWith("on")?B:X}(i,o,e));return l(e,n,s)}const it={};class ot{static id=0;id=++ot.id;pattern;Ft;Ht;Ot;Vt;At;jt;Gt;qt;Dt;Wt;Ut;_t;zt;constructor(t){const e=e=>t===e?this:lt(e),n=t.split("."),s=[],i=[],o=[],r=[],l=[],u=[];let c="",a="",h=0;for(let t=0;t<n.length;t++)c+=n[t],"*"===n[t]&&(o.push(c),r.push(e(c)),l.push(a),u.push(e(a)),h++),s.push(c),i.push(e(c)),a=c,c+=".";const d=o.length>0?o[o.length-1]:null,f=s.length>1?s[s.length-2]:null;this.pattern=t,this.Ft=n,this.Ht=n[n.length-1],this.Ot=s,this.Vt=i,this.At=o,this.jt=r,this.Gt=l,this.qt=u,this.Dt=d,this.Wt=d?e(d):null,this.Ut=f,this._t=f?e(f):null,this.zt=h}}const rt=new Set(["constructor","prototype","__proto__","toString","valueOf","hasOwnProperty","isPrototypeOf","watch","unwatch","eval","arguments","let","var","const","class","function","null","true","false","new","return"]);function lt(t){let e;return e=it[t],void 0!==e?e:(rt.has(t)&&g(`getStructuredPathInfo: pattern is reserved word: ${t}`),it[t]=new ot(t))}class ut{#t;#m;#g;#b=null;#w;#s;get pattern(){return this.#m}get info(){return this.#g}get ut(){return null===this.#b?null:this.#b.deref()??g("listIndex is null")}get state(){return this.#w}get filters(){return this.#s}get binding(){return this.#t}constructor(t,e,n,s){this.#t=t,this.#m=n,this.#g=lt(n),this.#w=e,this.#s=s}get value(){return this.#w[q](this.info,this.ut)}get K(){let t=this.value;for(let e=0;e<this.#s.length;e++)t=this.#s[e](t);return t}init(){if(this.info.zt>0){const t=this.info.Dt??g("BindingState.init: wildcardLastParentPath is null"),e=this.binding.rt.yt?.find(t)??g("BindingState.init: loopContext is null");this.#b=e.Jt}this.binding.nt.Qt(this.info,this.ut,this.binding)}}class ct{#t;#y;#b=null;#w;#s;get pattern(){return g("Not implemented")}get info(){return g("Not implemented")}get ut(){return null===this.#b?null:this.#b.deref()??g("listIndex is null")}get state(){return this.#w}get filters(){return this.#s}get binding(){return this.#t}constructor(t,e,n,s){this.#t=t;const i=Number(n.slice(1));isNaN(i)&&g("BindingStateIndex: pattern is not a number"),this.#y=i,this.#w=e,this.#s=s}get value(){return this.ut?.index??g("listIndex is null")}get K(){let t=this.value;for(let e=0;e<this.#s.length;e++)t=this.#s[e](t);return t}init(){const t=(this.binding.rt.ot??g("BindingState.init: loopContext is null")).lt();this.#b=t[this.#y-1].Jt??g("BindingState.init: listIndexRef is null");const e=this.ut??g("listIndex is null"),n=this.binding.nt.Kt.get(e);void 0===n?this.binding.nt.Kt.set(e,new Set([this.binding])):n.add(this.binding)}}const at=new RegExp(/^\$\d+$/);function ht(t,e){return at.test(t)?((t,e)=>(n,s,i)=>{const o=S(i,e);return new ct(n,s,t,o)})(t,e):((t,e)=>(n,s,i)=>{const o=S(i,e);return new ut(n,s,t,o)})(t,e)}const dt={Text:t=>t.textContent?.slice(3).trim()??"",HTMLElement:t=>t.getAttribute($)??"",Mt:t=>{const e=t.textContent?.slice(3).trim();return(kt(Number(e))??g(`Template not found: ${e}`)).getAttribute($)??""},SVGElement:t=>t.getAttribute($)??""};const ft={};function pt(t,e=(t=>t.constructor.name+"\t"+(t instanceof Comment?t.textContent?.[2]??"":""))(t)){return ft[e]??(ft[e]=(t=>t instanceof Comment&&":"===t.textContent?.[2]?"Text":t instanceof HTMLElement?"HTMLElement":t instanceof Comment&&"|"===t.textContent?.[2]?"Template":t instanceof SVGElement?"SVGElement":g(`Unknown NodeType: ${t.nodeType}`))(t))}const mt=t=>t.trim(),gt=t=>t.length>0,bt=new RegExp(/^#(.*)#$/),wt=t=>{const e=bt.exec(t);return e?decodeURIComponent(e[1]):t},yt=t=>{const[e,...n]=t.split(",").map(mt);return{name:e,options:n.map(wt)}},xt=t=>{const[e,...n]=t.split("|").map(mt);return{Xt:e,filters:n.map(yt)}},Nt=t=>t.split(";").map(mt).filter(gt).map((t=>(t=>{const[e,n=null]=t.split("@").map(mt),[s,i]=e.split(":").map(mt),{Xt:o,filters:r}=xt(s),{Xt:l,filters:u}=xt(i);return{Yt:o,Zt:l,te:r,ee:u,event:n}})(t))),St={};const vt=t=>{t.removeAttribute("data-bind")},Ct={HTMLElement:vt,SVGElement:vt,Text:void 0,Mt:void 0};const It={Text:t=>{const e=document.createTextNode("");return t.parentNode?.replaceChild(e,t),e},HTMLElement:void 0,Mt:void 0,SVGElement:void 0};class Et{nodeType;ne;se;ie=new Map;constructor(t){this.nodeType=pt(t);const e=function(t,e){const n=dt[t](e)??"";return"Text"===t?"textContent:"+n:n}(this.nodeType,t);(function(t,e){Ct[e]?.(t)})(t=function(t,e){return It[e]?.(t)??t}(t,this.nodeType),this.nodeType),this.ne=function(t){let e=[];for(;null!==t.parentNode;)e=[Array.from(t.parentNode.childNodes).indexOf(t),...e],t=t.parentNode;return e}(t),this.se=function(t){return""===t.trim()?[]:St[t]??(St[t]=Nt(t))}(e);for(let e=0;e<this.se.length;e++){const n=this.se[e],s={oe:st(t,n.Yt,n.te,n.event),re:ht(n.Zt,n.ee)};this.ie.set(n,s)}}}function Tt(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT,{acceptNode:t=>t instanceof Element?t.hasAttribute($)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP:function(t){return t instanceof Comment&&(0===t.textContent?.indexOf(M)||0===t.textContent?.indexOf(R))}(t)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;n.nextNode();)e.push(n.currentNode);return e}const Lt={},Bt={},$t={};function Mt(t){return Tt(t).map((t=>function(t){return new Et(t)}(t)))}const Rt={};function Pt(t,e,n){var s;return s=e.content,Array.from(s.childNodes).forEach((t=>{t.nodeType!==Node.TEXT_NODE||(t.nodeValue??"").trim()||s.removeChild(t)})),function(t,e,n=t){const s=Mt(e),i=$t[n]??($t[n]=new Set),o=Bt[n]??(Bt[n]=new Set);for(let t=0;t<s.length;t++){const e=s[t];for(let t=0;t<e.se.length;t++){const n=e.se[t];i.add(n.Zt),"for"===n.Yt&&o.add(n.Zt)}}Lt[t]=s}(t,e.content,n),Rt[t]=e,t}function kt(t){return Rt[t]??g(`getTemplateById: template not found: ${t}`)}class Ft{rt;node;nt;le;X;constructor(t,e,n,s,i){this.rt=t,this.node=e,this.nt=n,this.le=s(this,e,n.ue),this.X=i(this,n.st,n.ce)}get _(){return this.le._}init(){this.le.init(),this.X.init()}o(){this.le.update()}}function Ht(t,e,n,s,i){return new Ft(t,e,n,s,i)}class Ot{#x;#g;#b;#u;constructor(t,e,n){this.#x=t??g("name is required"),this.#g=lt(this.#x),this.#b=new WeakRef(e),this.#u=n}get path(){return this.#x}get info(){return this.#g}get ut(){return this.#b?.deref()??g("listIndex is null")}get Jt(){return this.#b??g("listIndexRef is null")}gt(t){this.#b=new WeakRef(t)}wt(){this.#b=null}get ae(){return this.#u}#N;get he(){if(void 0===this.#N){let t=this.ae;for(;null!==t;){if(null!==t.yt&&t.yt!==this){this.#N=t.yt;break}t=t.de?.rt??null}void 0===this.#N&&(this.#N=null)}return this.#N}#S={};find(t){let e=this.#S[t];if(void 0===e){let n=this;for(;null!==n&&n.path!==t;)n=n.he;e=this.#S[t]=n}return e}fe(t){let e=this;for(;null!==e;)t(e),e=e.he}lt(){const t=[];return this.fe((e=>{t.unshift(e)})),t}}function Vt(t){const e=[];for(let n=0;n<t.length;n++){const s=t[n];s.le.Z?e.push(s):s.o()}for(let t=0;t<e.length;t++)e[t].o()}function At(t,e,n,s){const i=(t=>Lt[t])(e)??g("BindContent: data-bind is not set"),o=[];for(let e=0;e<i.length;e++){const l=i[e],u=(r=s,l.ne.reduce(((t,e)=>t?.childNodes[e]??null),r)??g(`BindContent: node is not found: ${l.ne}`));for(let e=0;e<l.se.length;e++){const s=l.se[e],i=l.ie.get(s)??g(`BindContent: creator is not found: ${s}`),r=Ht(t,u,n,i.oe,i.re);o.push(r)}}var r;return o}class jt{yt;de;childNodes;fragment;nt;#l;get id(){return this.#l}get pe(){return this.childNodes.length>0&&this.childNodes[0].parentNode!==this.fragment}get It(){return this.childNodes[0]??null}get Tt(){return this.childNodes[this.childNodes.length-1]??null}vt(t){const e=this.me[this.me.length-1],n=this.Tt;if(e.node===n&&e._.size>0){const n=(Array.from(e._).at(-1)??g("BindContent: childBindContent is not found")).vt(t);if(null!==n)return n}return t!==n?.parentNode?null:n}#v;get ot(){if(void 0===this.#v){let t=this;for(;null!==t&&null===t.yt;)t=t.de?.rt??null;this.#v=t?.yt??null}return this.#v}constructor(t,e,n,s,i){this.de=t,this.#l=e,this.fragment=function(t){const e=kt(t)??g(`BindContent: template is not found: ${t}`);return document.importNode(e.content,!0)}(e),this.childNodes=Array.from(this.fragment.childNodes),this.nt=n,this.yt=null!==i?function(t,e,n){return new Ot(t,e,n)}(s,i,this):null,this.me=At(this,e,n,this.fragment)}mount(t){t.appendChild(this.fragment)}dt(t,e){t.insertBefore(this.fragment,e)}Ct(t,e){t.insertBefore(this.fragment,e?.nextSibling??null)}unmount(){for(let t=0;t<this.childNodes.length;t++)this.fragment.appendChild(this.childNodes[t])}me=[];o(){Vt(this.me)}init(){this.me.forEach((t=>t.init()))}gt(t){null==this.yt&&g("BindContent: loopContext is null"),this.yt.gt(t),this.init()}}function Gt(t,e,n,s,i){const o=new jt(t,e,n,s,i);return o.init(),o}class qt{static id=0;id=++qt.id;#C=null;get ge(){return this.#C}index;get be(){const t=this.ge?.be??[];return t.push(this.index),t}get position(){return(this.ge?.position??-1)+1}constructor(t,e){this.#C=t,this.index=e}truncate(t){let e=this;for(;null!==e;){if(e.position<t)return e;e=e.ge}return null}add(t){return new qt(this,t)}*we(){yield this,null!==this.ge&&(yield*this.ge.we())}*iterator(){null!==this.ge&&(yield*this.ge.iterator()),yield this}toString(){const t=this.ge?.toString();return null!==t?t+","+this.index.toString():this.index.toString()}at(t){let e,n;for(t>=0?e=this.iterator():(t=-t-1,e=this.we());t>=0;)n=e.next(),t--;return n?.value??null}}function Dt(t,e){const n=qt.id;return t.id*(n+1)+(e?.id??0)}function Wt(t,e,n,s,i){if(null!=i.ye&&i.ye!==e){const t=i.ye;t._t!==e&&i.nt.xe(t,e)}let o,r=0;if(i.Ne){r=Dt(e,n);const t=i.cache[r];if(void 0!==t)return t;if(r in i.cache)return}try{if(e.pattern in t)return e.zt>0?(null===n&&g("propRef.listIndex is null"),o=i.nt.Se(e,n,(()=>Reflect.get(t,e.pattern,s)))):o=Reflect.get(t,e.pattern,s);{const r=e._t??g("propRef.stateProp.parentInfo is undefined"),l=r.zt<e.zt?n?.ge??null:n,u=Ut(t,r,l,s,i),c=e.Ht;if("*"===c){const t=n?.index??g("propRef.listIndex?.index is undefined");return o=Reflect.get(u,t)}return o=Reflect.get(u,c)}}finally{i.Ne&&!(r in i.cache)&&(i.cache[r]=o)}}function Ut(t,e,n,s,i){return i.nt.ve.has(e.pattern)?function(t,e,n){e.Ce.push(t),e.ye=t;try{return n()}finally{e.Ce.pop(),e.ye=e.Ce[e.Ce.length-1]??null}}(e,i,(()=>Wt(t,e,n,s,i))):Wt(t,e,n,s,i)}function _t(t,e,n,s){return(e,i)=>Ut(t,e,i,n,s)}function zt(t,e,n,s,i,o){try{if(e.pattern in t)return e.zt>0?(null===n&&g("propRef.listIndex is null"),o.nt.Se(e,n,(()=>Reflect.set(t,e.pattern,s,i)))):Reflect.set(t,e.pattern,s,i);{const r=e._t??g("propRef.stateProp.parentInfo is undefined"),l=r.zt<e.zt?n?.ge??null:n,u=Ut(t,r,l,i,o),c=e.Ht;if("*"===c){const t=n?.index??g("propRef.listIndex?.index is undefined");return Reflect.set(u,t,s)}return Reflect.set(u,c,s)}}finally{o.nt.it.Ie(e,n,s)}}function Jt(t,e,n,s){return(e,i,o)=>zt(t,e,i,o,n,s)}function Qt(t,e,n,s){return async t=>{await async function(t,e){t.Ne=!0,t.cache={};try{await e()}finally{t.Ne=!1}}(s,t)}}function Kt(t,e,n,s){return async()=>{const e=Reflect.get(t,"$connectedCallback");"function"==typeof e&&await e.call(t,n)}}function Xt(t,e,n,s){return async()=>{const e=Reflect.get(t,"$disconnectedCallback");"function"==typeof e&&await e.call(t,n)}}function Yt(t,e,n,s){return(e,i,o)=>{const r=lt(e);let l=null;for(let t=0;t<r.qt.length;t++){const e=r.qt[t]??g("wildcardParentPath is null");l=Array.from(s.nt.St(e,l)??[])[i[t]??g("index is null")]??g(`ListIndex not found: ${e.pattern}`)}return void 0===o?Ut(t,r,l,n,s):zt(t,r,l,o,n,s)}}function Zt(t,e,n,s){const i=Yt(t,0,n,s);return(t,e)=>{const n=lt(t);if(null!=s.ye&&s.ye!==n){const t=s.ye;t._t!==n&&s.nt.xe(t,n)}if(void 0===e){for(let t=0;t<n.jt.length;t++){const i=n.jt[t]??g("wildcardPattern is null"),o=s.nt.Ee(i.pattern);if(o){e=o.be;break}}void 0===e&&(e=[])}const o=(t,e,n,i,r,l,u)=>{const c=t[e]??null;if(null===c)return void u.push(l);const a=s.nt.St(c,n)??g(`ListIndex not found: ${c.pattern}`),h=Array.from(a),d=i[r]??null;if(null===d)for(let n=0;n<h.length;n++){const s=h[n];o(t,e+1,s,i,r+1,l.concat(s.index),u)}else{const n=h[d]??g(`ListIndex not found: ${c.pattern}`);e+1<t.length&&o(t,e+1,n,i,r+1,l.concat(n.index),u)}},r=[];o(n.qt,0,null,e,0,[],r);const l=[];for(let t=0;t<r.length;t++)l.push(i(n.pattern,r[t]));return l}}const te={};class ee{static id=0;id=++ee.id;name;elements;Te;zt;Le;Be;info;constructor(t){const e=t.split("."),n=e.slice(),s=[];let i=0,o=0,r="",l=0,u="none",c=[];for(let t=0;t<e.length;t++){const u=e[t];if("*"===u)n[t]="*",c.push(null),i++,l++;else{const e=Number(u);Number.isNaN(e)||(n[t]="*",c.push(e),o++,l++)}r+=u,s.push(r),r+=t<e.length-1?".":""}const a=lt(n.join("."));(i>0||o>0)&&(u=i===l?"context":o===l?"all":"partial"),this.name=t,this.elements=e,this.Te=s,this.zt=l,this.Le=u,this.Be=c,this.info=a}}function ne(t){return te[t]??(te[t]=new ee(t))}function se(t,e){if(0===t.info.zt)return null;let n=null;const s=t.info.Dt??g("lastWildcardPath is null");if("context"===t.Le)n=e.Ee(s)??g(`ListIndex not found: ${t.info.pattern}`);else if("all"===t.Le){let s=null;for(let n=0;n<t.info.zt;n++){const i=t.info.qt[n]??g("wildcardParentPattern is null");s=Array.from(e.St(i,s)??[])[t.Be[n]??g("wildcardIndex is null")]??g(`ListIndex not found: ${i.pattern}`)}n=s}else"partial"===t.Le||t.Le;return n}const ie=new RegExp(/^\$(\d+)$/);class oe{nt;Ne=!1;cache={};ye=null;Ce=[];constructor(t){this.nt=t}$e={[q]:_t,[D]:Jt,[W]:Qt,[U]:Kt,[_]:Xt,[z]:Yt,[J]:Zt};get(t,e,n){return function(t,e,n,s){let i;if("string"==typeof e){if(ie.test(e)){const t=e.slice(1),n=Number(t),i=s.nt.Me()??g("get: this.engine.getLastStatePropertyRef() is null");return i.ut?.at(n-1)?.index??g(`ListIndex not found: ${e}`)}if("$resolve"===e)return Yt(t,0,n,s);if("$getAll"===e)return Zt(t,0,n,s);{const o=ne(e),r=se(o,s.nt);i=Ut(t,o.info,r,n,s)}}else if("symbol"==typeof e){if(e in s.$e)return s.$e[e](t,e,n,s);i=Reflect.get(t,e,n)}return i}(t,e,n,this)}set(t,e,n,s){return function(t,e,n,s,i){if("string"==typeof e){const o=ne(e),r=se(o,i.nt);return zt(t,o.info,r,n,s,i)}return Reflect.set(t,e,n,s)}(t,e,n,s,this)}}const re=new Set;function le(t,e,n,s,i){const o=t.Et(n,s)??[];if(o===i)return;const r=t.St(n,s)??re,l=Map.groupBy(r,(t=>o[t.index])),u=new Set;for(let e=0;e<i.length;e++){const n=i[e],o=l.get(n);let r=o?.shift();r?r.index!==e&&(r.index=e,t.it.Re(r)):r=new qt(s,e),u.add(r)}t.Pe(n,s,u),t.Lt(n,s,i.slice(0));const c=n.pattern+".*";for(const n of e)if(c===n.Dt)for(const s of u){const i=t.st[q](n,s);le(t,e,n,s,i??[])}}function ue(t,e,n,s){if(t.ke,!t.ke.has(e))return;const i=s??[];le(t,t.ke,e,n,i)}function ce(t,e,n){const s=t.qt??[],i=(t,o,r)=>{const l=s[t];if(!l)return void(o&&r.push(o));const u=e?.at(t)??null;if(u)i(t+1,u,r);else{const e=n.St(l,o);for(const n of e??[])i(t+1,n,r)}},o=[];return i(0,e,o),o}function ae(t,e,n,s,i){if(s.has(t))return;const o=n.Fe.get(t);for(const r of o??[]){if(n.ke.has(t)&&r._t===t&&"*"===r.Ht)continue;let o=null,l=!1;for(let n=r.qt.length-1;n>=0;n--){const i=r.qt[n];if(s.has(i)){l=!0;break}const u=t.qt.indexOf(i);if(!(u<0)&&(o=e?.at(u)??null,null!==o))break}if(!l)if(r.qt.length>0){const t=ce(r,o,n);for(const e of t)i.push({info:r,ut:e}),ae(r,e,n,s,i)}else i.push({info:r,ut:null}),ae(r,null,n,s,i)}}function he(t,e){const n=new Set,s=[];for(const i of t){const t=i.info,o=i.ut;n.has(t)||(ae(t,o,e,n,s),n.add(t))}return s}class de{He=[];Oe=new Set;Ve={};nt;constructor(t){this.nt=t}ct(t){this.He.push(t),this.Ae.resolve()}Ie(t,e,n){const s=Dt(t,e);this.Oe.add({info:t,ut:e}),this.Ve[s]=n,this.Ae.resolve()}Re(t){this.Oe.add(t),this.Ae.resolve()}terminate(){const t=Promise.withResolvers();return this.Ae.resolve(t),t}Ae=Promise.withResolvers();async je(t){await t.promise;const e=i();for(;;)try{const t=await this.Ae.promise;e.debug&&performance.mark("start"),de.Ge++;try{await this.exec(),e.debug&&(performance.mark("end"),performance.measure("exec","start","end"),console.log(performance.getEntriesByType("measure")),performance.clearMeasures("exec"),performance.clearMarks("start"),performance.clearMarks("end"))}finally{if(de.Ge--,t){t.resolve();break}}}catch(t){console.error(t)}finally{this.Ae=Promise.withResolvers()}}async qe(){for(;this.He.length>0;){const t=this.He;this.He=[];for(let e=0;e<t.length;e++){const n=t[e];await n()}}}async De(){const t=[],e=[],n=this.nt,s=new Set,i=new Set;for(;this.Oe.size>0;){const o=Array.from(this.Oe.values()),r=[],l=[],u=[];this.Oe.clear();for(let t=0;t<o.length;t++){const c=o[t];let a;if("index"in c){if(s.has(c))continue;const t=c;a=n.Kt.get(t),s.add(t)}else{const t=Dt(c.info,c.ut);if(i.has(t))continue;const e=c;n.ke.has(e.info)&&l.push(e),n.We.has(e.info)&&u.push(e),a=n.Ue(c.info,c.ut),i.add(t),r.push(e)}e.push(...a??[])}const c=new Set;for(let t=0;t<l.length;t++){const e=l[t],s=Dt(e.info,e.ut),i=this.Ve[s]??null;ue(n,e.info,e.ut,i),c.add(s)}const a={},h=Object.groupBy(u,(t=>{null===t.info._t&&g("parentInfo is null");const e=t.info._t,n=t.info.zt===t.info._t.zt?t.ut:t.ut?.ge??null,s=Dt(e,n);return s in a||(a[s]={info:e,ut:n}),s}));for(const[e,s]of Object.entries(h)){const i=Number(e);if(c.has(i))continue;if(void 0===s)continue;const o=a[i];if(null===o)continue;const r=[],l=[];for(let t=0;t<s.length;t++){const e=s[t],n=Dt(e.info,e.ut),i=this.Ve[n]??null;r.push(i);const o=e.ut;if(null===o)throw new Error("listIndex is null");l.push(o)}const u=n.Ue(o.info,o.ut);for(const e of u){const n={_e:o,binding:e,ze:l,values:r};t.push(n)}}const d=he(r,n);for(const t of d){const s=n.Ue(t.info,t.ut);e.push(...s??[])}}return this.Ve={},{me:e,Je:t}}async o(t){await this.nt.st[W]((async()=>Vt(t)))}async exec(){for(;0!==this.He.length||0!==this.Oe.size;){await this.qe();const{me:t,Je:e}=await this.De();for(const t of e)t.binding.le.Y(t.ze,t.values);t.length>0&&await this.o(t)}}static Ge=0}function fe(t,e,n){if(e.l)if(null===e.Qe||function(t){try{return"function"==typeof document.createElement(t).attachShadow}catch{return!1}}(e.Qe)){t.attachShadow({mode:"open"}).adoptedStyleSheets=[n]}else g(`ComponentEngine: Shadow DOM not supported for builtin components that extend ${e.Qe}`);else{const e=function(t){let e=t;for(;e;){if(e instanceof ShadowRoot)return e;e=e.parentNode}}(t.parentNode)||document,s=e.adoptedStyleSheets;s.includes(n)||(e.adoptedStyleSheets=[...s,n])}}class pe{type="autonomous";config;Ke;styleSheet;Xe;state;st;it;ue;ce;ae;Ye=HTMLElement;Ze;ve;ke=new Set;We=new Set;Kt=new WeakMap;Fe=new Map;#I=Promise.withResolvers();#E=null;#T=[];#L=[];constructor(t,e){this.config=t,this.config.Qe&&(this.type="builtin");const n=e.constructor;var s,i;this.Ke=n.Ke,this.styleSheet=n.styleSheet,this.Xe=n.Xe,this.state=new this.Xe,this.st=(s=this,i=this.state,new Proxy(i,new oe(s))),this.it=function(t){return new de(t)}(this),this.ue=n.ue,this.ce=n.ce,this.Ze=e,this.ve=n.ve;const o=t=>{const e=t._t;null!==e&&(this.xe(t,e),o(e))};for(const t of n.Te){const e=lt(t);o(e)}for(const t of n.tn)this.ke.add(lt(t)),this.We.add(lt(t+".*"));this.ae=Gt(null,n.id,this,null,null);for(const t of this.ke){if(t.zt>0)continue;ue(this,t,null,this.st[q](t,null))}this.it.je(this.#I)}async connectedCallback(){fe(this.Ze,this.config,this.styleSheet),await this.st[U](),await this.st[W]((async()=>{this.ae.o()})),this.ae.mount(this.Ze.shadowRoot??this.Ze),this.#I.resolve()}async disconnectedCallback(){await this.st[_]()}async ht(t,e){try{if(null!==this.#E)throw new Error("loopContext is already set");this.#E=t,await this.en(t.info,t.ut,(async()=>{await e()}))}finally{this.#E=null}}async en(t,e,n){this.#T.push(t),this.#L.push(e);try{return await n()}finally{this.#T.pop(),this.#L.pop()}}Se(t,e,n){this.#T.push(t),this.#L.push(e);try{return n()}finally{this.#T.pop(),this.#L.pop()}}Me(){if(0===this.#T.length)return null;const t=this.#T[this.#T.length-1];if(void 0===t)return null;const e=this.#L[this.#L.length-1];return void 0===e?null:{info:t,ut:e}}Ee(t){const e=this.Me();if(null===e)return null;const n=e.info.At.indexOf(t);return n>=0?e.ut.at(n)??null:null}nn(){if(null===this.#E)throw new Error("loopContext is null");return this.#E.lt()}#B={};#$={};sn(){return{list:null,rn:null,me:[]}}ln(t,e){if(null===e){let e=this.#$[t.id];return void 0===e&&(e=this.sn(),this.#$[t.id]=e),e}{let n=this.#B[t.id];void 0===n&&(n=new WeakMap,this.#B[t.id]=n);let s=n.get(e);return void 0===s&&(s=this.sn(),n.set(e,s)),s}}Qt(t,e,n){this.ln(t,e).me.push(n)}Pe(t,e,n){this.ln(t,e).rn=n}Lt(t,e,n){this.ln(t,e).list=n}Ue(t,e){return this.ln(t,e).me}St(t,e){return this.ln(t,e).rn}Et(t,e){return this.ln(t,e).list}xe(t,e){let n=this.Fe.get(e);void 0===n&&(n=new Set,this.Fe.set(e,n)),n.add(t)}}const me=/\{\{([^\}]+)\}\}/g,ge=new Set(["if","for","endif","endfor","elseif","else"]);function be(t,e,n=t){if(e.parentNode?.replaceChild(document.createComment(`${R}${t}`),e),"http://www.w3.org/2000/svg"===e.namespaceURI){const t=document.createElement("template");for(let n of Array.from(e.childNodes))t.content.appendChild(n);const n=e.getAttribute($);t.setAttribute($,n??""),e=t}return e.content.querySelectorAll("template").forEach((t=>{be(m(),t,n)})),Pt(t,e,n),t}function we(t,e){const n=document.createElement("template");n.dataset.id=t.toString(),n.innerHTML=function(t){const e=[];return t.replaceAll(me,((t,n)=>{n=n.trim();const[s]=n.split(":");if(!ge.has(s))return`\x3c!--${M}${n}--\x3e`;const i=n.slice(s.length+1).trim(),o={type:s,un:n,cn:i};if("if"===s||"for"===s)return e.push(o),`<template data-bind="${n}">`;if("endif"===s){const t=[];for(;;){const n=e.pop()??g("replaceMustacheToTemplateOrEmbed: endif without if");if("if"===n.type){t.push("</template>");break}"elseif"===n.type?t.push("</template>"):g("replaceMustacheToTemplateOrEmbed: endif without if")}return t.join("")}if("endfor"===s){if("for"===(e.pop()??g("replaceMustacheToTemplateOrEmbed: endif without if")).type)return"</template>";g("replaceMustacheToTemplateOrEmbed: endfor without for")}else if("elseif"===s){const t=e.at(-1)??g("replaceMustacheToTemplateOrEmbed: elseif without if");if("if"===t.type||"elseif"===t.type)return e.push(o),`</template><template data-bind="if:${t.cn}|not"><template data-bind="if:${i}">`;g("replaceMustacheToTemplateOrEmbed: elseif without if")}else if("else"===s){const t=e.at(-1)??g("replaceMustacheToTemplateOrEmbed: else without if");if("if"===t.type)return`</template><template data-bind="if:${t.cn}|not">`;g("replaceMustacheToTemplateOrEmbed: else without if")}else g("replaceMustacheToTemplateOrEmbed: unknown type")}))}(e),be(t,n)}function ye(t){const e=function(t){const e=i();return{l:t.l??e.l,Qe:t.Qe??null}}(t.Xe.an??{}),n=m(),{hn:s,dn:o,Xe:r}=t,l=Object.assign({},f),u=Object.assign({},d);r.fn=!0,we(n,s),y(n,o),function(t,e){b[t]=e}(n,r);const c=function(t){return t?document.createElement(t).constructor:HTMLElement}(e.Qe),a=e.Qe;return class extends c{#M;constructor(){super(),this.#M=function(t,e){return new pe(t,e)}(e,this)}connectedCallback(){this.#M.connectedCallback()}disconnectedCallback(){this.#M.disconnectedCallback()}#R;get pn(){return void 0===this.#R&&(this.#R=function(t){let e=t.parentNode;for(;e;){if(e.state&&e.mn)return e;if(e=e.parentNode,e instanceof ShadowRoot){if(e.host&&e.host.state&&e.host.mn)return e.host;e=e.host}}return null}(this)),this.#R}get state(){return this.#M.state}get mn(){return this.state.constructor.fn??!1}static define(t){a?customElements.define(t,this,{Qe:a}):customElements.define(t,this)}static get id(){return n}static#P=s;static get hn(){return this.#P}static set hn(t){this.#P=t,we(this.id,t),this.#k=null}static#F=o;static get dn(){return this.#F}static set dn(t){this.#F=t,y(this.id,t),this.#H=null}static#k=null;static get Ke(){return this.#k||(this.#k=kt(this.id)),this.#k}static#H=null;static get styleSheet(){return this.#H||(this.#H=function(t){return w[t]??g(`getStyleSheetById: stylesheet not found: ${t}`)}(this.id)),this.#H}static#O=null;static get Xe(){return this.#O||(this.#O=function(t){return b[t]??g(`getStateClassById: stateClass not found: ${t}`)}(this.id)),this.#O}static#V=l;static get ue(){return this.#V}static#A=u;static get ce(){return this.#A}static get tn(){return(t=>Bt[t]??[])(this.id)}static get Te(){return(t=>$t[t]??[])(this.id)}static#j=null;static get ve(){if(null===this.#j){this.#j=new Set;let t=this.Xe.prototype;for(;t&&t!==Object.prototype;){const e=Object.getOwnPropertyDescriptors(t);if(e)for(const[t,n]of Object.entries(e))n.get&&this.#j.add(t);t=Object.getPrototypeOf(t)}}return this.#j}}}function xe(t){return t.replaceAll(/<!--\{\{([^\}]+)\}\}-->/g,((t,e)=>`{{${e}}}`))}async function Ne(t){const e=await fetch(import.meta.resolve(t));return async function(t){const e=document.createElement("template");e.innerHTML=function(t){return t.replaceAll(/\{\{([^\}]+)\}\}/g,((t,e)=>`\x3c!--{{${e}}}--\x3e`))}(t);const n=e.content.querySelector("template");n?.remove();const s=e.content.querySelector("script"),i=s?await import("data:text/javascript;charset=utf-8,"+s.text):{};s?.remove();const o=e.content.querySelector("style");o?.remove();const r=i.default??class{};return{text:t,hn:xe(n?.innerHTML??"").trim(),dn:o?.textContent??"",Xe:r}}(await e.text())}async function Se(n){const s=Promise.all(Object.entries(n).map((async([n,s])=>{o.h&&function(n,s){s.startsWith(t)&&(s=s.substring(7)),e[s]=n}(n,s);!function(t,e){e.define(t)}(n,ye(await Ne(s)))})));await s}const ve="router",Ce=`<slot name="${ve}"></slot>`;class Ie extends HTMLElement{constructor(){super(),o.l&&this.attachShadow({mode:"open"})}async gn(){await this.bn(),this.o()}get root(){return this.shadowRoot??this}async bn(){if(o.v){const t=await fetch(o.v);if(t.ok){const e=await t.text(),n=document.createElement("template");n.innerHTML=e;const s=n.content.querySelector("template"),i=n.content.querySelector("style");if(this.root.appendChild(s?.content??document.createDocumentFragment()),i){const t=this.shadowRoot??document,e=t.adoptedStyleSheets;e.includes(i)||(t.adoptedStyleSheets=[...e,i])}}else g(`Failed to load layout from ${o.v}`)}else this.root.innerHTML=Ce}o(){if(o.h){const t=document.createElement(o.S);t.setAttribute("slot",ve),this.root.appendChild(t)}}}const Ee=o;let Te=!1;async function Le(t){await Se(t),Ee.m&&Be()}function Be(){Te||(!function(){if(o.h&&customElements.define(o.S,n),o.u&&(customElements.define(o.N,Ie),o.p)){const t=document.createElement(o.N);document.body.appendChild(t)}}(),Te=!0)}export{Be as bootstrapStructive,Ee as config,Le as defineComponents};
//# sourceMappingURL=structive.min.js.map
